<mxfile host="app.diagrams.net" modified="2021-12-03T04:15:23.410Z" agent="5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/96.0.4664.55 Safari/537.36" etag="cf_mE7Vb4AlBs25dVE-e" version="15.8.9" type="github">
  <diagram id="C5RBs43oDa-KdzZeNtuy" name="Page-1">
    <mxGraphModel dx="1351" dy="1899" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-1" parent="WIyWlLk6GJQsqaUBKTNV-0" />
        <mxCell id="fYIEZJHR611tZ-EzZ28d-0" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.25;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-3" target="WIyWlLk6GJQsqaUBKTNV-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-3" target="WIyWlLk6GJQsqaUBKTNV-12">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.75;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-3" target="WIyWlLk6GJQsqaUBKTNV-11">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-3" value="&lt;b&gt;&lt;font style=&quot;font-size: 30px&quot;&gt;dwb_create&lt;/font&gt;&lt;/b&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="50" y="80" width="210" height="260" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-4" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=20;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-7" target="fYIEZJHR611tZ-EzZ28d-3">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-7" value="&lt;span style=&quot;font-weight: 600&quot; class=&quot;notion-enable-hover&quot;&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;dwb_starts_structure_modification&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="380" y="80" width="350" height="90" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-8" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;fontSize=20;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-11" target="fYIEZJHR611tZ-EzZ28d-7">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-11" value="&lt;span style=&quot;font-weight: 600&quot; class=&quot;notion-enable-hover&quot;&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;dwb_ends_structure_modification&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="380" y="350" width="370" height="100" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-5" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=1;exitY=0.5;exitDx=0;exitDy=0;fontSize=20;" edge="1" parent="WIyWlLk6GJQsqaUBKTNV-1" source="WIyWlLk6GJQsqaUBKTNV-12">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="880" y="245" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="WIyWlLk6GJQsqaUBKTNV-12" value="&lt;span style=&quot;font-weight: 600&quot; class=&quot;notion-enable-hover&quot;&gt;&lt;font style=&quot;font-size: 20px&quot;&gt;dwb_create_internal&lt;/font&gt;&lt;/span&gt;" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" parent="WIyWlLk6GJQsqaUBKTNV-1" vertex="1">
          <mxGeometry x="380" y="200" width="220" height="90" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-3" value="position_with_flags&amp;nbsp;를 설정하는 함수.&lt;br&gt;MODIFY_STRUCTURE bit을 check 후 1로 설정해서&lt;br&gt;다른 쓰레드들은 dwb_create에 접근하면 에러나게 설정&lt;br&gt;글로벌 position_with_flag의 32 ~ 63 bit(block write)를 check&lt;br&gt;만약 flag가 존재하면 dwb_flush_block 후 error_log를 발생시킨다." style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="880" y="-50" width="350" height="150" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-6" value="실질적으로 dwb 를 생성하는 함수.&lt;br&gt;블록의 개수, dwb 의 크기를 시스템 파라미터에서 읽어와&lt;br&gt;페이지의 개수, 블록당 페이지의 개수를 구한다.&lt;br&gt;dwb volume 을 생성하고 dwb block 의 메모리할당 및 초기화하고&lt;br&gt;dwb_Global 구조체에 block 과 데이터를 입력한다.&lt;br&gt;DWB_CREATE bit 을 1로 설정하는 함수" style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="880" y="180" width="350" height="150" as="geometry" />
        </mxCell>
        <mxCell id="fYIEZJHR611tZ-EzZ28d-7" value="flag를 설정, 스레드의 점유 상태를 해제하고&lt;br&gt;wait_queue에 있는 다음 스레드를 깨우는 함수&lt;br&gt;MODIFY_STRUCTURE bit 을 0으로 세팅&lt;br&gt;internal 함수에서 wait_queue를 초기화했기때문에&lt;br&gt;&amp;nbsp;더이상의 기능은 하지 않는다." style="rounded=1;whiteSpace=wrap;html=1;fontSize=12;glass=0;strokeWidth=1;shadow=0;" vertex="1" parent="WIyWlLk6GJQsqaUBKTNV-1">
          <mxGeometry x="880" y="390" width="350" height="150" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
